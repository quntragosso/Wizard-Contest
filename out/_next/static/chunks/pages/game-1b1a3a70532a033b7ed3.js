_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[10],{"07wX":function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/game",function(){return n("OzVs")}])},"6FZ/":function(t,e){throw new Error("Module build failed (from ./node_modules/next/dist/build/webpack/loaders/next-babel-loader.js):\nSyntaxError: C:\\xampp\\htdocs\\wizard-contest8\\components\\leftarea\\cards\\Hands.js: Identifier 'URL' has already been declared (25:18)\n\n  23 |         if (this.props.gameStatus.nowTurnPlayer == this.props.gameStatus.you) {\n  24 |             const URL = './php/action/card_play.php';\n> 25 |             const URL = 'http://localhost/wizard-contest3/php/action/card_play.php';\n     |                   ^\n  26 |             axios\n  27 |                 .post(localURL, require('querystring').stringify({ gameId: this.props.gameStatus.gameID, whom: this.props.gameStatus.you, cardName: this.props.name, cardId: this.props.id, actionPlayed: this.props.turnSwitch.actionSwitch }))\n  28 |                 .then((results) => {\n    at Object._raise (C:\\xampp\\htdocs\\wizard-contest8\\node_modules\\@babel\\parser\\lib\\index.js:799:17)\n    at Object.raiseWithData (C:\\xampp\\htdocs\\wizard-contest8\\node_modules\\@babel\\parser\\lib\\index.js:792:17)\n    at Object.raise (C:\\xampp\\htdocs\\wizard-contest8\\node_modules\\@babel\\parser\\lib\\index.js:786:17)\n    at ScopeHandler.checkRedeclarationInScope (C:\\xampp\\htdocs\\wizard-contest8\\node_modules\\@babel\\parser\\lib\\index.js:4906:12)\n    at ScopeHandler.declareName (C:\\xampp\\htdocs\\wizard-contest8\\node_modules\\@babel\\parser\\lib\\index.js:4872:12)\n    at Object.checkLVal (C:\\xampp\\htdocs\\wizard-contest8\\node_modules\\@babel\\parser\\lib\\index.js:9554:22)\n    at Object.parseVarId (C:\\xampp\\htdocs\\wizard-contest8\\node_modules\\@babel\\parser\\lib\\index.js:12265:10)\n    at Object.parseVar (C:\\xampp\\htdocs\\wizard-contest8\\node_modules\\@babel\\parser\\lib\\index.js:12240:12)\n    at Object.parseVarStatement (C:\\xampp\\htdocs\\wizard-contest8\\node_modules\\@babel\\parser\\lib\\index.js:12052:10)\n    at Object.parseStatementContent (C:\\xampp\\htdocs\\wizard-contest8\\node_modules\\@babel\\parser\\lib\\index.js:11644:21)")},OzVs:function(t,e,n){"use strict";n.r(e);var r=n("o0o1"),a=n.n(r),c=n("HaE+"),s=n("1OyB"),o=n("vuIU"),i=n("JX7q"),u=n("Ji7U"),p=n("md7G"),f=n("foSv"),h=n("nKUr"),d=n("q1tI"),l=n("/MKj"),y=n("vDqi"),m=n.n(y),b=n("BXF7");function j(t,e,n){var r={serverID:t,hostname:e,guestname:"unset",finalLog:"",nowturnplayer:n,guestSetUpFinished:!1};b.a.doc(t).set(r)}function O(t,e){b.a.doc(t).update({guestname:e})}function g(t,e,r){console.log("game create");m.a.post("./php/setup/game_create.php",n("s4NR").stringify({gameId:t,hostName:e,guestName:r})).then((function(t){})).catch((function(t){}))}function v(t,e){m.a.post("./php/setup/deck_create.php",n("s4NR").stringify({gameId:t,whoseDeck:e})).then((function(t){})).catch((function(t){}))}var S=n("zlyb"),x=n("3gD8"),R=n("6FZ/"),D=n.n(R);function w(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(f.a)(t);if(e){var a=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(p.a)(this,n)}}var k=function(t){Object(u.a)(n,t);var e=w(n);function n(t){return Object(s.a)(this,n),e.call(this,t)}return Object(o.a)(n,[{key:"render",value:function(){return Object(h.jsx)("div",{id:"your_hand",className:"mains",children:this.props.yourStatus.yourHand.map((function(t){return Object(h.jsx)(D.a,{id:t.id,name:t.name},t.id)}))})}}]),n}(d.Component),N=k=Object(l.b)((function(t){return t}))(k),I=n("rePB");function _(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(f.a)(t);if(e){var a=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(p.a)(this,n)}}var U=function(t){Object(u.a)(r,t);var e=_(r);function r(t){var n;return Object(s.a)(this,r),n=e.call(this,t),Object(I.a)(Object(i.a)(n),"cardStyle",{paddingTop:"15px",alignItems:"flex-start"}),n.id=t.id,n.name=t.name,n.doMouseEnter=n.doMouseEnter.bind(Object(i.a)(n)),n}return Object(o.a)(r,[{key:"doMouseEnter",value:function(){var t=this;m.a.post("./php/action/textget.php",n("s4NR").stringify({cardName:this.props.name})).then((function(e){var n,r=e.data;n=null!=r[6]?r[6]:"";var a="".concat(r[0],"\n\u30bf\u30a4\u30d7\uff1a").concat(r[1],"\n\u8cfc\u5165\u8cbb\u7528\uff1a").concat(r[2],"\n\u6d88\u8cbb\u30de\u30ca\uff1a").concat(r[3],"\n\u7372\u5f97\u8cbb\u7528\uff1a").concat(r[4],"\n\u7372\u5f97\u30de\u30ca\uff1a").concat(r[5],"\n").concat(n);return t.props.dispatch({type:"TEXTUPDATE",text:a})})).catch((function(t){}))}},{key:"render",value:function(){return Object(h.jsx)("div",{className:"cards",onMouseEnter:this.doMouseEnter,style:this.cardStyle,id:this.id,children:this.name})}}]),r}(d.Component),T=U=Object(l.b)((function(t){return t}))(U);function E(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(f.a)(t);if(e){var a=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(p.a)(this,n)}}var P=function(t){Object(u.a)(n,t);var e=E(n);function n(t){var r;return Object(s.a)(this,n),r=e.call(this,t),Object(I.a)(Object(i.a)(r),"cardStyle",{paddingTop:"15px",alignItems:"flex-start"}),r}return Object(o.a)(n,[{key:"render",value:function(){return Object(h.jsx)("div",{id:"your_field",className:"mains",children:this.props.yourStatus.yourArchi.map((function(t){return Object(h.jsx)(T,{id:t.id,name:t.name},t.id)}))})}}]),n}(d.Component),C=P=Object(l.b)((function(t){return t}))(P);function A(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(f.a)(t);if(e){var a=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(p.a)(this,n)}}var M=function(t){Object(u.a)(n,t);var e=A(n);function n(t){var r;return Object(s.a)(this,n),r=e.call(this,t),Object(I.a)(Object(i.a)(r),"cardStyle",{paddingTop:"15px",alignItems:"flex-start"}),r}return Object(o.a)(n,[{key:"render",value:function(){return Object(h.jsx)("div",{className:"cards",style:this.cardStyle})}}]),n}(d.Component),L=M=Object(l.b)((function(t){return t}))(M);function z(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(f.a)(t);if(e){var a=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(p.a)(this,n)}}var F=function(t){Object(u.a)(n,t);var e=z(n);function n(t){var r;return Object(s.a)(this,n),r=e.call(this,t),Object(I.a)(Object(i.a)(r),"cardStyle",{paddingTop:"15px",alignItems:"flex-start"}),r}return Object(o.a)(n,[{key:"render",value:function(){for(var t=[],e=0;e<this.props.enemyStatus.enemyHandNum;e++)t.push(Object(h.jsx)(L,{},e));return Object(h.jsx)("div",{id:"enemy_hand",className:"mains",children:t})}},{key:"componentDidMount",value:function(){}}]),n}(d.Component),H=F=Object(l.b)((function(t){return t}))(F);function Y(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(f.a)(t);if(e){var a=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(p.a)(this,n)}}var V=function(t){Object(u.a)(n,t);var e=Y(n);function n(t){var r;return Object(s.a)(this,n),r=e.call(this,t),Object(I.a)(Object(i.a)(r),"cardStyle",{paddingTop:"15px",alignItems:"flex-start"}),r}return Object(o.a)(n,[{key:"render",value:function(){return Object(h.jsx)("div",{id:"enemy_field",className:"mains",children:this.props.enemyStatus.enemyArchi.map((function(t){return Object(h.jsx)(T,{id:t.id,name:t.name},t.id)}))})}}]),n}(d.Component),G=V=Object(l.b)((function(t){return t}))(V);function B(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(f.a)(t);if(e){var a=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(p.a)(this,n)}}var X=function(t){Object(u.a)(r,t);var e=B(r);function r(t){var n;return Object(s.a)(this,r),n=e.call(this,t),Object(I.a)(Object(i.a)(n),"cardStyle",{paddingTop:"15px",alignItems:"flex-start"}),n.id=t.id,n.name=t.name,n.doMouseEnter=n.doMouseEnter.bind(Object(i.a)(n)),n.onContextMenu=n.onContextMenu.bind(Object(i.a)(n)),n}return Object(o.a)(r,[{key:"onContextMenu",value:function(t){var e=this;if(t.preventDefault(),this.props.gameStatus.nowTurnPlayer==this.props.gameStatus.you&&0==this.props.turnSwitch.buySwitch){m.a.post("./php/action/card_buy.php",n("s4NR").stringify(Object(I.a)({gameId:this.props.gameStatus.gameID,whom:this.props.gameStatus.you,cardName:this.props.name},"cardName",this.props.name))).then((function(t){"buy cancel"!=t.data&&(b.a.doc(e.props.gameStatus.gameID).update({finalLog:e.props.name+"\u3092\u8cfc\u5165\u3002"}),e.props.dispatch({type:"BUYPLAYED"}))})).catch((function(t){}))}}},{key:"doMouseEnter",value:function(){var t=Object(c.a)(a.a.mark((function t(){var e=this;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:"./php/action/textget.php","http://localhost/wizard-contest3/php/action/textget.php",m.a.post("./php/action/textget.php",n("s4NR").stringify({cardName:this.props.name})).then((function(t){var n,r=t.data;n=null!=r[6]?r[6]:"";var a="".concat(r[0],"\n\u30bf\u30a4\u30d7\uff1a").concat(r[1],"\n\u8cfc\u5165\u8cbb\u7528\uff1a").concat(r[2],"\n\u6d88\u8cbb\u30de\u30ca\uff1a").concat(r[3],"\n\u7372\u5f97\u8cbb\u7528\uff1a").concat(r[4],"\n\u7372\u5f97\u30de\u30ca\uff1a").concat(r[5],"\n").concat(n);return e.props.dispatch({type:"TEXTUPDATE",text:a})})).catch((function(t){}));case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){return Object(h.jsx)("div",{className:"cards",onMouseEnter:this.doMouseEnter,onContextMenu:this.onContextMenu,style:this.cardStyle,children:this.name})}}]),r}(d.Component),q=X=Object(l.b)((function(t){return t}))(X);function J(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(f.a)(t);if(e){var a=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(p.a)(this,n)}}var K=function(t){Object(u.a)(n,t);var e=J(n);function n(t){return Object(s.a)(this,n),e.call(this,t)}return Object(o.a)(n,[{key:"render",value:function(){return Object(h.jsxs)("div",{id:"market",className:"mains",children:[Object(h.jsx)("div",{id:"market_top",children:this.props.market.marketTopArr.map((function(t){return Object(h.jsx)(q,{name:t.name,id:t.id},t.id)}))}),Object(h.jsx)("div",{id:"market_bottom",children:this.props.market.marketBottomArr.map((function(t){return Object(h.jsx)(q,{name:t.name,id:t.id},t.id)}))})]})}}]),n}(d.Component),W=K=Object(l.b)((function(t){return t}))(K);function Z(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(f.a)(t);if(e){var a=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(p.a)(this,n)}}var Q=function(t){Object(u.a)(n,t);var e=Z(n);function n(){return Object(s.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(h.jsxs)("div",{id:"left_area",children:[Object(h.jsx)(N,{}),Object(h.jsx)(C,{}),Object(h.jsx)(H,{}),Object(h.jsx)(G,{}),Object(h.jsx)(W,{})]})}}]),n}(d.Component),$=Q=Object(l.b)((function(t){return t}))(Q);function tt(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(f.a)(t);if(e){var a=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(p.a)(this,n)}}var et=function(t){Object(u.a)(n,t);var e=tt(n);function n(t){var r;return Object(s.a)(this,n),r=e.call(this,t),Object(I.a)(Object(i.a)(r),"numStyle",{fontSize:"20px"}),Object(I.a)(Object(i.a)(r),"boxesStyle",{width:"100%",height:"50%",display:"flex",justifyContent:"space-around",alignItems:"center"}),Object(I.a)(Object(i.a)(r),"decksStyle",{width:"100%",height:"50%",display:"flex",justifyContent:"space-around",alignItems:"center"}),Object(I.a)(Object(i.a)(r),"infoStyle",{display:"flex",justifyContent:"center",alignItems:"center",width:"50pt",height:"50pt"}),r}return Object(o.a)(n,[{key:"render",value:function(){return Object(h.jsxs)("div",{id:"your_info",className:"mains",children:[Object(h.jsxs)("div",{style:this.boxesStyle,children:[Object(h.jsx)("div",{style:this.infoStyle,id:"your_victory_point",className:"info_text",children:this.props.yourStatus.yourVicPnt}),Object(h.jsx)("div",{style:this.infoStyle,id:"your_mana",className:"info_text",children:this.props.yourStatus.yourMana}),Object(h.jsx)("div",{style:this.infoStyle,id:"your_gold",className:"info_text",children:this.props.yourStatus.yourGold})]}),Object(h.jsxs)("div",{style:this.decksStyle,children:[Object(h.jsxs)("div",{id:"your_deck",className:"decks",children:["\xd7",Object(h.jsx)("span",{style:this.numStyle,children:this.props.yourStatus.yourDeckNum})]}),Object(h.jsxs)("div",{id:"your_trash",className:"decks",children:["\xd7",Object(h.jsx)("span",{style:this.numStyle,children:this.props.yourStatus.yourTrashNum})]})]})]})}}]),n}(d.Component),nt=et=Object(l.b)((function(t){return t}))(et);function rt(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(f.a)(t);if(e){var a=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(p.a)(this,n)}}var at=function(t){Object(u.a)(n,t);var e=rt(n);function n(t){var r;return Object(s.a)(this,n),r=e.call(this,t),Object(I.a)(Object(i.a)(r),"numStyle",{fontSize:"20px"}),Object(I.a)(Object(i.a)(r),"boxesStyle",{width:"100%",height:"50%",display:"flex",justifyContent:"space-around",alignItems:"center"}),Object(I.a)(Object(i.a)(r),"decksStyle",{width:"100%",height:"50%",display:"flex",justifyContent:"space-around",alignItems:"center"}),Object(I.a)(Object(i.a)(r),"infoStyle",{display:"flex",justifyContent:"center",alignItems:"center",width:"50pt",height:"50pt"}),r}return Object(o.a)(n,[{key:"render",value:function(){return Object(h.jsxs)("div",{id:"enemy_info",className:"mains",children:[Object(h.jsxs)("div",{style:this.decksStyle,children:[Object(h.jsxs)("div",{id:"enemy_deck",className:"decks",children:["\xd7",Object(h.jsx)("span",{style:this.numStyle,children:this.props.enemyStatus.enemyDeckNum})]}),Object(h.jsxs)("div",{id:"enemy_trash",className:"decks",children:["\xd7",Object(h.jsx)("span",{style:this.numStyle,children:this.props.enemyStatus.enemyTrashNum})]})]}),Object(h.jsxs)("div",{style:this.boxesStyle,children:[Object(h.jsx)("div",{style:this.infoStyle,id:"enemy_victory_point",className:"info_text",children:this.props.enemyStatus.enemyVicPnt}),Object(h.jsx)("div",{style:this.infoStyle,id:"enemy_mana",className:"info_text",children:this.props.enemyStatus.enemyMana}),Object(h.jsx)("div",{style:this.infoStyle,id:"enemy_gold",className:"info_text",children:this.props.enemyStatus.enemyGold})]})]})}}]),n}(d.Component),ct=at=Object(l.b)((function(t){return t}))(at);function st(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(f.a)(t);if(e){var a=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(p.a)(this,n)}}var ot=function(t){Object(u.a)(r,t);var e=st(r);function r(t){var n;return Object(s.a)(this,r),(n=e.call(this,t)).nextTurn=n.nextTurn.bind(Object(i.a)(n)),n}return Object(o.a)(r,[{key:"nextTurn",value:function(){var t=this;if(this.props.gameStatus.nowTurnPlayer==this.props.gameStatus.you)if(this.props.yourStatus.yourVicPnt>=10)b.a.doc(this.props.gameStatus.gameID).update({finalLog:this.props.gameStatus.you+"win!"});else{m.a.post("./php/action/turnend_reset.php",n("s4NR").stringify({gameId:this.props.gameStatus.gameID,whom:this.props.gameStatus.you})).then((function(){var e=t.props.gameStatus.enemyName+"\u306e\u30bf\u30fc\u30f3";b.a.doc(t.props.gameStatus.gameID).update({finalLog:e,nowturnplayer:t.props.gameStatus.enemy}),t.props.dispatch({type:"TURNPASSED"})})).catch((function(t){}))}}},{key:"render",value:function(){return Object(h.jsx)("div",{id:"turnend_box",onClick:this.nextTurn,children:this.props.otherInfo.turnendText})}},{key:"componentDidMount",value:function(){var t,e;"host"==this.props.gameStatus.nowTurnPlayer&&"host"==this.props.gameStatus.you?(t=this.props.gameStatus.yourName,e="\u30bf\u30fc\u30f3\u3092\u7d42\u4e86\u3059\u308b"):"host"==this.props.gameStatus.nowTurnPlayer&&"guest"==this.props.gameStatus.you||"guest"==this.props.gameStatus.nowTurnPlayer&&"host"==this.props.gameStatus.you?(t=this.props.gameStatus.enemyName,e=""):"guest"==this.props.gameStatus.nowTurnPlayer&&"guest"==this.props.gameStatus.you&&(t=this.props.gameStatus.yourName,e="\u30bf\u30fc\u30f3\u3092\u7d42\u4e86\u3059\u308b"),this.props.dispatch({type:"FIRSTPLAYERSET",name:t,text:e})}}]),r}(d.Component),it=ot=Object(l.b)((function(t){return t}))(ot),ut=n("YFqc"),pt=n.n(ut);function ft(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(f.a)(t);if(e){var a=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(p.a)(this,n)}}var ht=function(t){Object(u.a)(n,t);var e=ft(n);function n(t){return Object(s.a)(this,n),e.call(this,t)}return Object(o.a)(n,[{key:"render",value:function(){return Object(h.jsx)("div",{id:"leave_box",children:Object(h.jsx)(pt.a,{href:"/",children:"\u9000\u5ba4\u3059\u308b"})})}}]),n}(d.Component);function dt(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(f.a)(t);if(e){var a=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(p.a)(this,n)}}var lt=function(t){Object(u.a)(n,t);var e=dt(n);function n(){return Object(s.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var t;return t="\u3042\u306a\u305f\u306e\u52dd\u3061\uff01"==this.props.otherInfo.turnendText||"\u5bfe\u6226\u76f8\u624b\u306e\u52dd\u3061\u2026"==this.props.otherInfo.turnendText?Object(h.jsx)(ht,{}):Object(h.jsx)(it,{}),Object(h.jsxs)("div",{id:"right_area",children:[Object(h.jsx)(nt,{}),t,Object(h.jsx)(ct,{})]})}}]),n}(d.Component),yt=lt=Object(l.b)((function(t){return t}))(lt);function mt(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(f.a)(t);if(e){var a=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(p.a)(this,n)}}var bt=function(t){Object(u.a)(n,t);var e=mt(n);function n(){return Object(s.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(h.jsx)("div",{id:"turn_box",children:this.props.otherInfo.turnPlayerText})}}]),n}(d.Component),jt=bt=Object(l.b)((function(t){return t}))(bt);function Ot(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(f.a)(t);if(e){var a=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(p.a)(this,n)}}var gt=function(t){Object(u.a)(n,t);var e=Ot(n);function n(){return Object(s.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(h.jsx)("div",{id:"cardtext_box",children:this.props.otherInfo.text})}}]),n}(d.Component),vt=gt=Object(l.b)((function(t){return t}))(gt);function St(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(f.a)(t);if(e){var a=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(p.a)(this,n)}}var xt=function(t){Object(u.a)(n,t);var e=St(n);function n(){return Object(s.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(h.jsx)("div",{id:"log_box",children:this.props.otherInfo.logs.map((function(t,e){return Object(h.jsx)("p",{children:t},e)}))})}}]),n}(d.Component),Rt=xt=Object(l.b)((function(t){return t}))(xt);function Dt(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(f.a)(t);if(e){var a=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(p.a)(this,n)}}var wt=function(t){Object(u.a)(n,t);var e=Dt(n);function n(){return Object(s.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(h.jsxs)("div",{id:"sub_box",children:[Object(h.jsx)(jt,{}),Object(h.jsx)(vt,{}),Object(h.jsx)(Rt,{})]})}}]),n}(d.Component);function kt(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(f.a)(t);if(e){var a=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(p.a)(this,n)}}var Nt=function(t){Object(u.a)(r,t);var e=kt(r);function r(){return Object(s.a)(this,r),e.apply(this,arguments)}return Object(o.a)(r,[{key:"handUpdate",value:function(t,e,r){var a=this;m.a.post("./php/update/hand_update.php",n("s4NR").stringify({gameId:t,whoseHand:e})).then((function(t){return"you"==r?a.props.dispatch({type:"YOURHANDUPDATE",newHand:t.data}):"enemy"==r?a.props.dispatch({type:"ENEMYHANDUPDATE",newHand:t.data.length}):void 0})).catch((function(t){}))}},{key:"archiUpdate",value:function(t,e,r){var a=this;m.a.post("./php/update/archi_update.php",n("s4NR").stringify({gameId:t,whoseArchi:e})).then((function(t){return"you"==r?a.props.dispatch({type:"YOURARCHIUPDATE",newArchi:t.data}):"enemy"==r?a.props.dispatch({type:"ENEMYARCHIUPDATE",newArchi:t.data}):void 0})).catch((function(t){}))}},{key:"infoUpdate",value:function(t,e,r){var a=this;m.a.post("./php/update/info_update.php",n("s4NR").stringify({gameId:t,whoseInfo:e})).then((function(t){var e=t.data;return"you"==r?a.props.dispatch({type:"YOURINFOUPDATE",yourDeckNum:e.deck,yourTrashNum:e.trash,yourVicPnt:e.point,yourMana:e.mana,yourGold:e.gold}):"enemy"==r?a.props.dispatch({type:"ENEMYINFOUPDATE",enemyDeckNum:e.deck,enemyTrashNum:e.trash,enemyVicPnt:e.point,enemyMana:e.mana,enemyGold:e.gold}):void 0})).catch((function(t){}))}},{key:"allUpdate",value:function(t,e,n){this.handUpdate(t,e,n),this.archiUpdate(t,e,n),this.infoUpdate(t,e,n)}},{key:"render",value:function(){return Object(h.jsxs)("div",{id:"box_box",children:[S.a,x.a,Object(h.jsxs)("div",{id:"main_box",children:[Object(h.jsx)($,{}),Object(h.jsx)(yt,{})]}),Object(h.jsx)(wt,{})]})}},{key:"componentDidMount",value:function(){var t=Object(c.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.allUpdate(this.props.gameStatus.gameID,this.props.gameStatus.you,"you");case 2:return t.next=4,this.allUpdate(this.props.gameStatus.gameID,this.props.gameStatus.enemy,"enemy");case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),r}(d.Component),It=Nt=Object(l.b)((function(t){return t}))(Nt);function _t(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(f.a)(t);if(e){var a=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(p.a)(this,n)}}var Ut=function(t){Object(u.a)(n,t);var e=_t(n);function n(t){return Object(s.a)(this,n),e.call(this,t)}return Object(o.a)(n,[{key:"render",value:function(){var t;return t="unset"!=this.props.gameStatus.enemyName?"\u5bfe\u6226\u76f8\u624b\u3092\u63a2\u3057\u3066\u3044\u307e\u3059\u3002":"\u5bfe\u6226\u76f8\u624b\u3092\u5f85\u3063\u3066\u3044\u307e\u3059\u3002",Object(h.jsx)("div",{children:t})}}]),n}(d.Component),Tt=Ut=Object(l.b)((function(t){return t}))(Ut);function Et(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(f.a)(t);if(e){var a=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(p.a)(this,n)}}var Pt=function(t){Object(u.a)(r,t);var e=Et(r);function r(t){var n;return Object(s.a)(this,r),(n=e.call(this,t)).state={guestSetUpFinished:!1},n.entry=n.entry.bind(Object(i.a)(n)),n}return Object(o.a)(r,[{key:"entry",value:function(){var t=Object(c.a)(a.a.mark((function t(){var e,r,s,o,i,u,p,f,h=this;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=!1,t.next=3,b.a.get().then((function(t){t.docs.map((function(t){return t.data()})).forEach((function(t){"unset"==t.guestname&&(e=!0,r=t.serverID,s=t.nowturnplayer)}))}));case 3:if(0!=e){t.next=16;break}return r=Math.floor(1e6*Math.random()),o=Math.floor(2*Math.random()),i=0==o?"host":"guest",u=String(r),t.next=10,j(u,this.props.gameStatus.yourName,i);case 10:return t.next=12,this.props.dispatch({type:"YOUAREHOST",gameId:u,nowTurnPlayer:i});case 12:p=!1,b.a.doc(this.props.gameStatus.gameID).onSnapshot(function(){var t=Object(c.a)(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=p){t.next=11;break}if("unset"==e.data().guestname){t.next=9;break}return p=!0,g(h.props.gameStatus.gameID,h.props.gameStatus.yourName,e.data().guestname),t.next=6,v(h.props.gameStatus.gameID,h.props.gameStatus.you);case 6:h.marketCreate(h.props.gameStatus.gameID,h.props.gameStatus.you,h.props.market.marketTopArr,h.props.market.marketBottomArr),h.props.dispatch({type:"GUESTUPDATE",guestname:e.data().guestname}),h.draw(h.props.gameStatus.gameID,h.props.gameStatus.you,4);case 9:t.next=12;break;case 11:1==e.data().guestSetUpFinished&&0==h.state.guestSetUpFinished?h.setState((function(t){return{guestSetUpFinished:!0}})):1==e.data().guestSetUpFinished&&1==h.state.guestSetUpFinished&&(0==isNaN(e.data().finalLog)?("./php/id_to_name.php","http://localhost/wizard-contest3/php/id_to_name.php",m.a.post("./php/id_to_name.php",n("s4NR").stringify({id:e.data().finalLog})).then((function(t){h.props.dispatch({type:"LOGUPDATE",pushLog:t.data+"\u3092\u30d7\u30ec\u30a4\u3002"}),h.allUpdate(h.props.gameStatus.gameID,h.props.gameStatus.you,"you"),h.allUpdate(h.props.gameStatus.gameID,h.props.gameStatus.enemy,"enemy")})).catch((function(t){}))):"hostwin!"==e.data().finalLog?("./php/user/win.php","http://localhost/wizard-contest3/php/user/win.php",m.a.post("./php/user/win.php",n("s4NR").stringify({userId:h.props.userStatus.userID,username:h.props.userStatus.userName})).then((function(t){console.log("host win"),h.props.dispatch({type:"YOUWIN"})})).catch((function(t){}))):"guestwin!"==e.data().finalLog?("./php/user/lose.php","http://localhost/wizard-contest3/php/user/lose.php",m.a.post("./php/user/lose.php",n("s4NR").stringify({userId:h.props.userStatus.userID,username:h.props.userStatus.userName})).then((function(t){console.log("host lose"),h.props.dispatch({type:"YOULOSE"})})).catch((function(t){}))):(h.props.dispatch({type:"LOGUPDATE",pushLog:e.data().finalLog}),h.allUpdate(h.props.gameStatus.gameID,h.props.gameStatus.you,"you"),h.allUpdate(h.props.gameStatus.gameID,h.props.gameStatus.enemy,"enemy")),e.data().nowturnplayer!=h.props.gameStatus.nowTurnPlayer&&e.data().nowturnplayer==h.props.gameStatus.you&&("./php/action/turnstart_activate.php","http://localhost/wizard-contest3/php/action/turnstart_activate.php",m.a.post("./php/action/turnstart_activate.php",n("s4NR").stringify({gameId:h.props.gameStatus.gameID,whose:h.props.gameStatus.you})).then((function(t){h.props.dispatch({type:"TURNRECEIVED"}),h.allUpdate(h.props.gameStatus.gameID,h.props.gameStatus.you,"you"),h.allUpdate(h.props.gameStatus.gameID,h.props.gameStatus.enemy,"enemy")})).catch((function(t){}))));case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.next=20;break;case 16:O(r,this.props.gameStatus.yourName),this.props.dispatch({type:"YOUAREGUEST",gameId:r,nowTurnPlayer:s}),f=!1,b.a.doc(this.props.gameStatus.gameID).onSnapshot(function(){var t=Object(c.a)(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=f){t.next=10;break}if("unset"==e.data().hostname){t.next=8;break}return f=!0,v(h.props.gameStatus.gameID,h.props.gameStatus.you),t.next=6,h.marketCreate(h.props.gameStatus.gameID,h.props.gameStatus.you,h.props.market.marketTopArr,h.props.market.marketBottomArr);case 6:h.props.dispatch({type:"HOSTUPDATE",hostname:e.data().hostname}),h.draw(h.props.gameStatus.gameID,h.props.gameStatus.you,4);case 8:t.next=11;break;case 10:1==e.data().guestSetUpFinished&&0==h.state.guestSetUpFinished?h.setState((function(t){return{guestSetUpFinished:!0}})):1==e.data().guestSetUpFinished&&1==h.state.guestSetUpFinished&&(0==isNaN(e.data().finalLog)?("./php/id_to_name.php","http://localhost/wizard-contest3/php/id_to_name.php",m.a.post("./php/id_to_name.php",n("s4NR").stringify({id:e.data().finalLog})).then((function(t){h.props.dispatch({type:"LOGUPDATE",pushLog:t.data+"\u3092\u30d7\u30ec\u30a4\u3002"}),h.allUpdate(h.props.gameStatus.gameID,h.props.gameStatus.you,"you"),h.allUpdate(h.props.gameStatus.gameID,h.props.gameStatus.enemy,"enemy")})).catch((function(t){}))):"hostwin!"==e.data().finalLog?("./php/user/lose.php","http://localhost/wizard-contest3/php/user/lose.php",m.a.post("./php/user/lose.php",n("s4NR").stringify({userId:h.props.userStatus.userID,username:h.props.userStatus.userName})).then((function(t){h.props.dispatch({type:"YOULOSE"})})).catch((function(t){}))):"guestwin!"==e.data().finalLog?("./php/user/win.php","http://localhost/wizard-contest3/php/user/win.php",m.a.post("./php/user/win.php",n("s4NR").stringify({userId:h.props.userStatus.userID,username:h.props.userStatus.userName})).then((function(t){h.props.dispatch({type:"YOUWIN"})})).catch((function(t){}))):(h.props.dispatch({type:"LOGUPDATE",pushLog:e.data().finalLog}),h.allUpdate(h.props.gameStatus.gameID,h.props.gameStatus.you,"you"),h.allUpdate(h.props.gameStatus.gameID,h.props.gameStatus.enemy,"enemy")),e.data().nowturnplayer!=h.props.gameStatus.nowTurnPlayer&&e.data().nowturnplayer==h.props.gameStatus.you&&("./php/action/turnstart_activate.php","http://localhost/wizard-contest3/php/action/turnstart_activate.php",m.a.post("./php/action/turnstart_activate.php",n("s4NR").stringify({gameId:h.props.gameStatus.gameID,whose:h.props.gameStatus.you})).then((function(t){h.props.dispatch({type:"TURNRECEIVED"}),h.allUpdate(h.props.gameStatus.gameID,h.props.gameStatus.you,"you"),h.allUpdate(h.props.gameStatus.gameID,h.props.gameStatus.enemy,"enemy")})).catch((function(t){}))));case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 20:case 21:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"marketCreate",value:function(t,e,r,a){var c=this;if(3==r.length){m.a.post("./php/setup/market_create.php",n("s4NR").stringify({gameId:t,isHost:e})).then((function(t){for(var e=r,n=a,s=0;s<5;s++)e.push({id:t.data[s].id,name:t.data[s].name});for(var o=0;o<5;o++)n.push({id:t.data[o+5].id,name:t.data[o+5].name});var i={type:"MARKETCREATE",marketTop:e,marketBottom:n};return c.props.dispatch(i)})).catch((function(t){}))}}},{key:"draw",value:function(t,e,r){m.a.post("./php/effect/draw.php",n("s4NR").stringify({gameId:t,whom:e,times:r})).then((function(){var n;"guest"==e&&(n=t,b.a.doc(n).update({guestSetUpFinished:!0}))})).catch((function(t){}))}},{key:"handUpdate",value:function(t,e,r){var a=this;m.a.post("./php/update/hand_update.php",n("s4NR").stringify({gameId:t,whoseHand:e})).then((function(t){return"you"==r?a.props.dispatch({type:"YOURHANDUPDATE",newHand:t.data}):"enemy"==r?a.props.dispatch({type:"ENEMYHANDUPDATE",newHand:t.data.length}):void 0})).catch((function(t){}))}},{key:"archiUpdate",value:function(t,e,r){var a=this;m.a.post("./php/update/archi_update.php",n("s4NR").stringify({gameId:t,whoseArchi:e})).then((function(t){return"you"==r?a.props.dispatch({type:"YOURARCHIUPDATE",newArchi:t.data}):"enemy"==r?a.props.dispatch({type:"ENEMYARCHIUPDATE",newArchi:t.data}):void 0})).catch((function(t){}))}},{key:"infoUpdate",value:function(t,e,r){var a=this;m.a.post("./php/update/info_update.php",n("s4NR").stringify({gameId:t,whoseInfo:e})).then((function(t){var e=t.data;return"you"==r?a.props.dispatch({type:"YOURINFOUPDATE",yourDeckNum:e.deck,yourTrashNum:e.trash,yourVicPnt:e.point,yourMana:e.mana,yourGold:e.gold}):"enemy"==r?a.props.dispatch({type:"ENEMYINFOUPDATE",enemyDeckNum:e.deck,enemyTrashNum:e.trash,enemyVicPnt:e.point,enemyMana:e.mana,enemyGold:e.gold}):void 0})).catch((function(t){}))}},{key:"allUpdate",value:function(t,e,n){this.handUpdate(t,e,n),this.archiUpdate(t,e,n),this.infoUpdate(t,e,n)}},{key:"render",value:function(){var t;return t=1==this.state.guestSetUpFinished||8==this.props.market.marketTopArr.length||8==this.props.market.marketBottomArr.length?Object(h.jsx)(It,{}):Object(h.jsx)(Tt,{}),Object(h.jsx)("div",{children:t})}},{key:"componentDidMount",value:function(){var t=Object(c.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.entry();case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),r}(d.Component);Pt=Object(l.b)((function(t){return t}))(Pt);e.default=Pt}},[["07wX",1,2,4,0,3,5,6]]]);