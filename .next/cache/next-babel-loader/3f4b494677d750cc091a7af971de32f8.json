{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport axios from \"axios\";\n\nclass NameInput extends Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"buttonStyle\", {\n      textAlign: \"center\",\n      cursor: \"pointer\"\n    });\n\n    this.state = {\n      name: \"\",\n      password: \"\"\n    };\n    this.nameChange = this.nameChange.bind(this);\n    this.passwordChange = this.passwordChange.bind(this);\n    this.entry = this.entry.bind(this);\n  }\n\n  nameChange(e) {\n    const re = /^([a-zA-Z0-9]{1,8})$/;\n    if (e.target.value === \"\" || re.test(e.target.value)) this.setState({\n      name: e.target.value,\n      password: this.state.password\n    });\n    console.log(this.state);\n  }\n\n  passwordChange(e) {\n    const re = /^([a-zA-Z0-9]{4,8})$/;\n\n    if (e.target.value === \"\" || re.test(e.target.value)) {\n      this.setState({\n        name: this.state.name,\n        password: e.target.value\n      });\n    }\n\n    console.log(this.state);\n  }\n\n  entry() {\n    console.log(this.state);\n    const URL = './php/user/user_create.php';\n    const localURL = 'http://localhost/wizard-contest3/php/user/user_create.php';\n    axios.post(URL, require('querystring').stringify({\n      username: this.state.name,\n      password: this.state.password\n    })).then(results => {\n      this.props.dispatch({\n        type: \"USERSET\",\n        name: results.data[0].name,\n        id: results.data[0].id\n      });\n    }).catch(error => {});\n    this.setState({\n      name: \"\",\n      password: \"\"\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxs(\"div\", {\n      children: [/*#__PURE__*/_jsx(\"p\", {\n        children: \"\\u203B\\u534A\\u89D2\\u82F1\\u6570\\u5B578\\u6841\\u307E\\u3067\"\n      }), \"username:\", /*#__PURE__*/_jsx(\"input\", {\n        type: \"text\",\n        size: \"10\",\n        value: this.state.value,\n        onChange: this.nameChange\n      }), /*#__PURE__*/_jsx(\"br\", {}), \"password:\", /*#__PURE__*/_jsx(\"input\", {\n        type: \"text\",\n        size: \"10\",\n        value: this.state.value,\n        onChange: this.passwordChange\n      }), /*#__PURE__*/_jsx(\"div\", {\n        id: \"imput_button\",\n        onClick: this.entry,\n        style: this.buttonStyle,\n        children: \"\\u3053\\u306E\\u540D\\u524D\\u3067\\u5BFE\\u6226\\u3059\\u308B\"\n      })]\n    });\n  }\n\n}\n\nNameInput = connect(state => state)(NameInput);\nexport default NameInput;","map":null,"metadata":{},"sourceType":"module"}